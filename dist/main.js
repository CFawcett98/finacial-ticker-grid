(()=>{"use strict";class t{constructor(t,n){this.data={},this.snapshotData=t,this.deltaData=n}initialize(){this.parseSnapshotData(),this.renderGrid(),this.processDeltas()}parseSnapshotData(){const t=this.snapshotData.split("\n");for(const n of t){const[t,...e]=n.split(",");t&&(this.data[t]=e)}}renderGrid(){const t=document.getElementById("grid-container");if(t){t.innerHTML="";for(const n in this.data){const e=document.createElement("div");e.className="grid-item",e.id="ticker-${ticker}",e.innerHTML=`<strong>${n}</strong><br>${this.data[n].join("<br>")}`,t.appendChild(e)}}}processDeltas(){return t=this,n=void 0,i=function*(){const t=this.deltaData.split("\n");let n=0;for(;;){n>=t.length&&(n=0);const e=t[n];isNaN(Number(e))?this.applyDelta(e):yield this.sleep(Number(e)),n++}},new((e=void 0)||(e=Promise))((function(s,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function r(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){var n;t.done?s(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,r)}c((i=i.apply(t,n||[])).next())}));var t,n,e,i}applyDelta(t){const[n,...e]=t.split(",");this.data[n]&&(this.data[n]=e,this.updateGridItem(n))}updateGridItem(t){const n=document.getElementById(`ticker-${t}`);n&&(n.className="grid-item grid-item--updated",n.innerHTML=`<strong>${t}</strong><br>${this.data[t].join("<br>")}`,setTimeout((()=>{n.className="grid-item"}),300))}sleep(t){return new Promise((n=>setTimeout(n,t)))}}var n=function(t,n,e,i){return new(e||(e=Promise))((function(s,a){function o(t){try{c(i.next(t))}catch(t){a(t)}}function r(t){try{c(i.throw(t))}catch(t){a(t)}}function c(t){var n;t.done?s(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,r)}c((i=i.apply(t,n||[])).next())}))};function e(t){return n(this,void 0,void 0,(function*(){const n=yield fetch(t);return yield n.text()}))}!function(){n(this,void 0,void 0,(function*(){const n=yield e("./mnt/data/snapshot.csv"),i=yield e("./mnt/data/Deltas.csv");new t(n,i).initialize()}))}()})();